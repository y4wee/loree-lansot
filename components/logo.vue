<template>
  <div class="logo">
    <svg :class="'logoSvg ' + className" height="auto" width="auto" viewBox="0 0 446 302" fill="none" xmlns="http://www.w3.org/2000/svg" version="1.1">
        <g>
            <path class="feuille feuille1" d="M260.85 5.9C250.55 17.25 248.35 26.65 253.6 36.6C258.3 45.6 258.7 45.35 259.25 33.35C259.5 27.35 260.25 21.35 260.85 20C261.7 18.1 261.8 20.9 261.35 31.75C260.65 47.95 260.45 47.65 267.95 41.15C274.25 35.65 281.05 32.55 275.45 37.7C273.8 39.25 270.45 42.1 268.05 44.05C261.4 49.45 265.75 51.95 276.25 48.8C281.3 47.3 289.9 35.1 290 29.25C290 29.1 286.75 29 282.75 29H275.5V23.75C275.5 19.5 274.6 16.7 270.9 9.2L266.25 -0.0999977L260.85 5.9Z" fill="#8FBF21"/>
        </g>
            <path :fill = "logoFill" :stroke = "logoStroke" class="letters apostrophe" d="M204.05 47.75C197.75 55.4 203.1 64.8 210.8 59.45C213.5 57.55 213.6 55.95 211.1 52.9C209.75 51.2 209.35 49.6 209.75 47.25C210.45 42.75 208.05 42.95 204.05 47.75Z" />
            <path :fill = "logoFill" :stroke = "logoStroke" class="letters letterO" d="M246 47.1C220.75 50.35 198.1 83.95 202.85 111C209.75 150.25 248.25 137.05 264.3 90C269.7 74.2 269.55 54 264.05 54C263.55 54 261.7 52.45 259.95 50.6C256.45 46.9 253.4 46.1 246 47.1ZM244 58.55C244 58.85 243.1 60.8 242.05 62.95C240.95 65.1 239.75 68.65 239.4 70.9C238.5 76.65 241.15 76.45 244 70.55C245.15 68.1 247.7 64.7 249.6 63.05C270.35 44.8 264.8 92.1 243.35 115.95C221.9 139.8 204.45 111.8 220.7 79.6C225.05 71 244 53.85 244 58.55Z" />
            <path :fill = "logoFill" :stroke = "logoStroke" class="letters letterL" d="M177.7 58C169.6 64.4 154.95 96.5 151.9 114.5C149.15 130.7 160.75 137.55 171.6 126.2C176.45 121.2 186.5 102.7 185.6 100.45C184.4 97.25 182.25 99.5 177.65 109C171.15 122.3 162.7 129.9 160.6 124.4C157.85 117.2 161.5 106.35 169.45 98C188.5 78.05 195.8 63.8 190 58C187.35 55.35 181.1 55.35 177.7 58ZM187 64.55C187 69.05 171.1 93.45 169.3 91.65C168.75 91.1 181.65 66.3 183.8 63.75C185.9 61.3 187 61.55 187 64.55Z" />
            <path :fill = "logoFill" :stroke = "logoStroke" class="letters accent" d="M345.5 64.2C343.85 64.7 341.25 66.9 339.7 69.1C338.15 71.25 336.45 73 335.95 73C335.4 73 335 73.65 335 74.5C335 78.2 344.2 74.8 349 69.35C353.95 63.7 352.7 61.85 345.5 64.2Z" />
            <path :fill = "logoFill" :stroke = "logoStroke" class="letters wordRee" d="M274.4 79.5C271.3 84.25 279.15 92.95 286.65 93C290.2 93 290.15 95.95 286.45 102.2C275.15 121.3 290.65 132.4 303.2 114.2L306.4 109.55L307.3 113.05C310.95 127.35 328.25 127.75 340.55 113.75L344.6 109.2L346.3 114.05C350.55 125.9 364.1 127.45 375.85 117.4C380.55 113.4 389 100.35 389 97.15C389 93.3 386.35 94.85 382.6 101C371.1 119.6 355 125.95 355 111.95C355 105.15 356.6 103.3 362.3 103.75C368.65 104.2 373.45 102 376.75 97.1C384.35 85.7 372.3 77.35 358.85 84.7C353.95 87.35 350.45 91.35 342.95 102.9C331.9 120 316.85 124.95 317.05 111.4C317.2 104.3 317.8 103.7 325.4 103.6C334.25 103.45 340 98.35 340 90.55C340 75.85 315.5 81 309 97.05C305.7 105.3 295.25 117.9 292.9 116.45C291.15 115.35 292.05 112.45 296 106.6C302 97.75 300.6 93.3 290.3 88.65C286.85 87.1 286.4 86.5 286.8 84.05C287.7 77.7 277.95 74.15 274.4 79.5ZM334.8 89.85C335.25 92.9 329.1 99 325.55 99C319.95 99 322.1 93.45 329.5 88.85C333.05 86.65 334.4 86.9 334.8 89.85ZM373.4 88.6C374.9 92.45 367.7 99.55 363 98.85C358.25 98.15 361.9 91.25 368.45 88.4C372.4 86.7 372.65 86.7 373.4 88.6Z" />
            <path :fill = "logoFill" :stroke = "logoStroke" class="letters letterLmaj" d="M116.25 114.5C105.5 117.45 97.7 123.2 91.25 132.9C87.45 138.55 73.25 173.3 59.5 210.5C57.45 216 54.7 222.45 53.35 224.8L50.85 229.1L38.6 228.4C15.75 227.15 1.45 234.1 0.200001 247.1C-1.6 266.1 32.85 265.5 56.75 246.05L63.05 241L74.75 244.9C81.2 247.05 91.5 250.6 97.65 252.85C134.75 266.15 165.7 265.85 177.3 252.05C185.55 242.25 177.7 236.1 165 242.5C140.9 254.65 126.05 254.2 83 240.1C65.9 234.45 66.8 235.55 71.7 226.3C80.35 210 93.8 178.4 102.55 154C112.75 125.45 124.65 115.15 135.75 125.3C145.05 133.8 128.45 164.95 118.6 157.5C116.2 155.7 114 157.15 114 160.55C114 172.05 133.75 164.9 142 150.5C154.55 128.5 139.85 108 116.25 114.5ZM44.8 236.45C48.75 240.4 17.85 255.35 11 252.8C2.7 249.75 10.05 239.25 22.7 236C26.55 235.05 43.75 235.4 44.8 236.45Z" />
            <path :fill = "logoFill" :stroke = "logoStroke" class="letters wordDe" d="M267.75 120.75C266.45 122.8 264.85 125.8 264.2 127.35C263.15 129.7 262.5 130.1 260.5 129.6C254.9 128.2 246.7 134.7 245.45 141.5C243.9 149.7 248.15 153.85 254.35 150.2C257.25 148.5 257.95 148.4 258.4 149.6C259.85 153.35 264.1 153.6 267.2 150.1L270.15 146.8L272.4 148.9C276.1 152.35 280.3 152.6 285.35 149.65C290.5 146.6 296.6 138 295.5 135.25C294.85 133.6 294.75 133.6 293.65 135.4C286.6 146.95 278.4 152 276.45 145.9C275.25 142.05 276.85 140 281.1 140C287.6 140 292.6 133 288.8 129.2C284.4 124.8 274.9 129.75 270.4 138.8C261.05 157.45 259.85 149.55 269.1 130.1C271.8 124.4 274 119.15 274 118.35C274 115.5 270 117.05 267.75 120.75ZM286.35 131.7C287.35 132.7 282.9 137 280.85 137C278.45 137 278.5 136.15 281.15 133.3C283.35 131 285.1 130.45 286.35 131.7ZM261 133.75C261 136.2 256.9 144.65 254.95 146.25C251.95 148.65 250.8 147.3 252.05 142.8C253.45 137.7 261 130.05 261 133.75Z" />
            <path :fill = "logoFill" :stroke = "logoStroke" class="letters wordAnsot" d="M398.5 127.4C394.45 129.2 391.1 133.1 386 141.75C381.15 150.05 381.4 150 368 147.45C358.3 145.6 357 145.9 357 150C357 153.9 361.15 155.9 371.15 156.7C377.95 157.3 378 157.35 376.6 159.45C375.05 161.9 368.95 176.4 367 182.4C364.65 189.65 351.85 204 347.7 204C347.1 204 346.95 201.65 347.25 198C348.8 181 340.3 168 327.65 168H321.8L314.85 174.7C307.15 182.15 302.3 190.6 301.2 198.6C300.1 206.25 296.45 206.15 292.8 198.3C291.3 195.1 286.9 188.9 282.95 184.5C271.2 171.35 269.8 167.9 274.65 164.05C278.1 161.35 278.95 161.45 283.85 165C291.1 170.25 297.05 167.05 290.75 161.3C273.35 145.35 248.5 164.55 262.1 183.45C264.5 186.8 265.15 188.5 264.45 189.5C263.95 190.3 260.5 195.3 256.8 200.7C245.95 216.6 236 225 236 218.3C236 217.3 238.95 210.35 242.55 202.85C250.75 185.95 252.3 176.25 247.7 171.6C240.55 164.45 227.45 172.65 217.4 190.6C211.6 200.95 209.7 200.05 214.9 189.4C223.4 172.05 223.65 165 215.65 165C208.2 165 204.9 168.1 203.4 176.5C200.4 193.35 194.25 206.05 184 216.8C172.75 228.45 173.85 213.1 186.05 187.15C191.85 174.85 192.15 172.65 188.05 170.55C183.9 168.4 181.6 168.6 178.1 171.6C175.25 173.95 174.75 174.05 171.4 172.95C163.25 170.25 153.2 172.3 145.85 178.15C118.35 199.9 127.4 244.3 155.35 225L161.4 220.85L164.7 224.8C171.25 232.75 184.1 229.5 191.5 218.1C194.1 214.1 195 214.2 195 218.45C195 224.8 204.15 232.35 207.6 228.8C208.3 228.1 209.8 223.7 210.95 219.05C214.05 206.4 222.75 191.4 232.35 182.15C238.25 176.45 238.3 179.3 232.5 190.3C221.7 210.7 220.9 226.15 230.45 230.65C235.7 233.2 240.1 231.8 246.15 225.75C249.3 222.6 251.5 221.05 251.75 221.8C256.6 236.35 285.2 232.3 293.55 215.85C295.65 211.7 297.55 210 300 210C300.45 210 301.1 211.8 301.5 213.95C303.95 228.35 321.85 236.45 334.85 229C339.2 226.55 344 220 344 216.6C344 215.6 345.4 214.3 347.35 213.5C349.2 212.7 352.85 210.5 355.4 208.55C361.05 204.2 361.1 204.2 359.9 208.25C353.35 230.65 365.5 249.75 381.4 242.05C391.65 237.1 414.05 205.9 410.95 200.9C409.4 198.45 406.9 201.05 399.7 212.6C391.65 225.45 386.15 231.5 380.05 234.25L375.65 236.25L373.8 234C369.1 228.2 372.5 212.85 386.3 178C395.75 154.15 393.85 156.3 405.95 155.55C436.3 153.65 446.8 151.9 445.75 148.75C445.25 147.25 438.65 147.15 415.25 148.25L399 149.05L402.4 142.75C410.1 128.5 408.7 122.85 398.5 127.4ZM335.2 177.75C339.55 182.5 342.35 202.4 338.9 204.55C332.7 208.4 319.3 192.8 323.4 186.5C324.3 185.15 325 182.5 325 180.6C325 174.65 330.8 173.05 335.2 177.75ZM171 180.4C171 181.2 169.65 184.8 168 188.5C166.35 192.15 164.05 198.4 162.9 202.35C159.8 212.7 149.85 222.6 145.05 220C139.3 216.95 145.2 200.2 156.1 188.55C163.4 180.75 171 176.6 171 180.4ZM272.9 197.15C278.45 204.05 278.3 204.4 269.25 205.7C259.75 207.1 260 207.4 264.4 200.2C266.4 196.9 268 193.75 268 193.1C268 191.25 268.65 191.8 272.9 197.15ZM322.7 207.5C325.25 209.45 329.05 211.55 331.15 212.15C336.05 213.6 336.3 216.55 331.9 220.9C324.7 228.15 314 218.4 316.5 206.9C317.3 203.3 317.15 203.3 322.7 207.5ZM277.6 217.55C274.9 224.65 256.15 224.35 258.4 217.3C259.3 214.4 261.25 213.7 270 213.05C277.85 212.45 279.25 213.3 277.6 217.55Z" />
        <g>
            <path class="feuille feuille2" d="M145.95 236.7C144.75 238.6 144.4 238.65 141.35 237.4C135.4 234.9 133 235.45 134.05 239.1C135.9 245.65 137.55 247 143.5 247C150.85 247 153.5 242.3 149.15 236.9L147.25 234.6L145.95 236.7Z" fill="#8FBF21"/>
        </g>
        <g>
            <path class="feuille feuille3" d="M158.25 271.9C165.75 279.55 169.4 284.6 168.15 285.4C167.65 285.75 166.45 284.85 165.55 283.4C163.2 279.9 149.95 266 148.85 266C148.4 266 148 268.85 148 272.35C148 278.8 146.4 285.35 145.05 284.55C144.65 284.3 144.65 281.9 145.1 279.3C147.1 267.15 145.85 263.65 141.2 268.05C134.75 274.05 133.8 280.4 137.75 290.75C141.05 299.4 140.65 299.3 146.5 292.8L151.2 287.55L153.2 290.3C155.55 293.55 158.8 295.35 167.85 298.4C171.5 299.65 175.3 301 176.25 301.45C180.5 303.3 177.25 280.7 172.35 274.25C169.3 270.2 163.35 267.1 156.8 266.05L151.8 265.25L158.25 271.9Z" fill="#8FBF21"/>
        </g>
        <defs>
            <filter id="filter0_i_8_3" x="250.853" y="-0.0999908" width="39.1469" height="54.2838" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                <feOffset dy="4"/>
                <feGaussianBlur stdDeviation="2"/>
                <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                <feBlend mode="normal" in2="shape" result="effect1_innerShadow_8_3"/>
            </filter>
            <filter id="filter1_i_8_3" x="133.811" y="234.6" width="17.4416" height="16.4" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                <feOffset dy="4"/>
                <feGaussianBlur stdDeviation="2"/>
                <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                <feBlend mode="normal" in2="shape" result="effect1_innerShadow_8_3"/>
            </filter>
            <filter id="filter2_i_8_3" x="135.4" y="265.25" width="42.8183" height="40.3073" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
                <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                <feOffset dy="4"/>
                <feGaussianBlur stdDeviation="2"/>
                <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
                <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
                <feBlend mode="normal" in2="shape" result="effect1_innerShadow_8_3"/>
            </filter>
        </defs>
    </svg>

    

  </div>
</template>

<script>
import { gsap } from 'gsap';

export default {
    name: "Logo",
    props: ["animation", "className", "logoFill", "logoStroke", ],
    mounted() {
        // gsap.to(".feuille1", {})
        if(this.animation === true) {
            this.animateLogo(this.className);
        }
    },
    methods: {
        animateLogo: function(data) {
            document.querySelectorAll(`.${data} .letters`).forEach(letter => {
                // calcule la longueur d'un path
                let length = letter.getTotalLength();

                gsap.fromTo(letter, 
                    {strokeDashoffset: length, strokeDasharray: length},
                    {strokeDashoffset: 0, duration: 1.2, ease: "power2.inOut"})
                gsap.fromTo(letter,
                    {fillOpacity: 0},
                    {fillOpacity: 1, ease: "power2.inOut", duration: 0.3, delay: 0.7})
                gsap.fromTo(`.${data} .feuille`,
                    {fillOpacity: 0},
                    {fillOpacity: 1, ease: "power2.inOut", duration: 0.4, delay: 0.8})
            })
        },
    },
}

</script>

<style scoped lang="scss">

.logo {
    display: flex;
}
svg {
    overflow: visible;
    z-index: 10;
    width: 85vw;
    max-height: 35vh;
}
.feuille1 {
    transform-origin: 58% 16%;
    animation: 2s ease-in-out infinite both alternate moveLeaf1;
}
.feuille2 {
    transform-origin: 32% 82%;
    animation: 3s ease-in infinite both alternate moveLeaf2;
}
.feuille3 {
    transform-origin: 33% 88%;
    animation: 3s ease-in infinite both alternate moveLeaf3;
}
// keyframes mouvement feuilles logo
@keyframes moveLeaf1 {
    from {
        transform: rotateZ(-5deg);
    }
    to {
        transform: rotateZ(5deg);
    }
}
@keyframes moveLeaf2 {
    from {
        transform: rotateZ(-7deg);
    }
    to {
        transform: rotateZ(7deg);
    }
}
@keyframes moveLeaf3 {
    from {
        transform: rotateZ(-10deg);
    }
    to {
        transform: rotateZ(10deg);
    }
}

</style>