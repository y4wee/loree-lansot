<template>
    <div class="leaf">
        <svg class="leafSvg" viewBox="0 0 205 508" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path class="leafSvgLine" d="M107.5 53V187C107.167 177.667 110 156.3 124 145.5C138 134.7 156.833 133 164.5 133.5L178 134.5C179.333 137 181.581 144.11 182 152.5C182.5 162.5 183.5 171.5 176 187C170 199.4 160.167 208.5 156 211.5C148.5 217.5 128.6 230.2 109 233C89.4 235.8 74.8333 233.167 70 231.5C63.6667 230 48.2 223.5 37 209.5C25.8 195.5 23 180 23 174C30 172.333 48.4 170 66 174C83.6 178 94.5 187.833 97.5 192.5C101 196.5 107.5 207.7 107.5 224.5C107.5 241.3 107.5 368.667 107.5 394" stroke-linecap="round"/>
            <ellipse class="leafSvgCircle" cx="107.5" cy="446.5" rx="53.5" ry="52.5" fill="#f7f6f8"/>
            <path class="leafSvgText" d="M78.7159 443.091C78.6307 442.371 78.285 441.812 77.679 441.415C77.0729 441.017 76.3295 440.818 75.4489 440.818C74.8049 440.818 74.2415 440.922 73.7585 441.131C73.2803 441.339 72.9063 441.625 72.6364 441.99C72.3712 442.355 72.2386 442.769 72.2386 443.233C72.2386 443.621 72.331 443.955 72.5156 444.234C72.705 444.509 72.9465 444.739 73.2401 444.923C73.5336 445.103 73.8414 445.252 74.1634 445.371C74.4853 445.484 74.7812 445.577 75.0511 445.648L76.5284 446.045C76.9072 446.145 77.3286 446.282 77.7926 446.457C78.2614 446.633 78.7088 446.872 79.1349 447.175C79.5658 447.473 79.9209 447.857 80.2003 448.325C80.4796 448.794 80.6193 449.369 80.6193 450.051C80.6193 450.837 80.4134 451.547 80.0014 452.182C79.5942 452.816 78.9976 453.321 78.2116 453.695C77.4304 454.069 76.4811 454.256 75.3636 454.256C74.322 454.256 73.42 454.088 72.6577 453.751C71.9001 453.415 71.3035 452.946 70.8679 452.345C70.437 451.744 70.1932 451.045 70.1364 450.25H71.9545C72.0019 450.799 72.1866 451.254 72.5085 451.614C72.8352 451.969 73.2472 452.234 73.7443 452.409C74.2462 452.58 74.786 452.665 75.3636 452.665C76.036 452.665 76.6397 452.556 77.1747 452.338C77.7098 452.116 78.1335 451.808 78.446 451.415C78.7585 451.017 78.9148 450.553 78.9148 450.023C78.9148 449.54 78.7798 449.147 78.5099 448.844C78.2401 448.541 77.8849 448.295 77.4446 448.105C77.0043 447.916 76.5284 447.75 76.017 447.608L74.2273 447.097C73.0909 446.77 72.1913 446.304 71.5284 445.697C70.8655 445.091 70.5341 444.298 70.5341 443.318C70.5341 442.504 70.7543 441.794 71.1946 441.188C71.6397 440.577 72.2363 440.103 72.9844 439.767C73.7372 439.426 74.5777 439.256 75.5057 439.256C76.4432 439.256 77.2765 439.424 78.0057 439.76C78.7348 440.091 79.3125 440.546 79.7386 441.124C80.1695 441.701 80.3968 442.357 80.4205 443.091H78.7159ZM95.2198 444H93.4585C93.3543 443.493 93.172 443.048 92.9116 442.665C92.6559 442.281 92.3434 441.959 91.9741 441.699C91.6095 441.434 91.2047 441.235 90.7596 441.102C90.3145 440.97 89.8505 440.903 89.3675 440.903C88.4869 440.903 87.689 441.126 86.9741 441.571C86.2638 442.016 85.698 442.672 85.2766 443.538C84.86 444.405 84.6516 445.468 84.6516 446.727C84.6516 447.987 84.86 449.05 85.2766 449.916C85.698 450.783 86.2638 451.438 86.9741 451.884C87.689 452.329 88.4869 452.551 89.3675 452.551C89.8505 452.551 90.3145 452.485 90.7596 452.352C91.2047 452.22 91.6095 452.023 91.9741 451.763C92.3434 451.498 92.6559 451.173 92.9116 450.79C93.172 450.402 93.3543 449.956 93.4585 449.455H95.2198C95.0872 450.198 94.8458 450.863 94.4954 451.45C94.145 452.037 93.7094 452.537 93.1886 452.949C92.6677 453.356 92.083 453.666 91.4343 453.879C90.7904 454.092 90.1014 454.199 89.3675 454.199C88.127 454.199 87.0238 453.896 86.0579 453.29C85.092 452.684 84.332 451.822 83.7781 450.705C83.2241 449.587 82.9471 448.261 82.9471 446.727C82.9471 445.193 83.2241 443.867 83.7781 442.75C84.332 441.633 85.092 440.771 86.0579 440.165C87.0238 439.559 88.127 439.256 89.3675 439.256C90.1014 439.256 90.7904 439.362 91.4343 439.575C92.083 439.788 92.6677 440.101 93.1886 440.513C93.7094 440.92 94.145 441.417 94.4954 442.004C94.8458 442.587 95.0872 443.252 95.2198 444ZM98.0661 454V439.455H102.981C104.117 439.455 105.05 439.649 105.779 440.037C106.508 440.42 107.048 440.948 107.398 441.621C107.749 442.293 107.924 443.058 107.924 443.915C107.924 444.772 107.749 445.532 107.398 446.195C107.048 446.857 106.511 447.378 105.786 447.757C105.062 448.131 104.136 448.318 103.009 448.318H99.032V446.727H102.952C103.729 446.727 104.354 446.614 104.827 446.386C105.306 446.159 105.651 445.837 105.864 445.42C106.082 444.999 106.191 444.497 106.191 443.915C106.191 443.332 106.082 442.823 105.864 442.388C105.647 441.952 105.299 441.616 104.82 441.379C104.342 441.138 103.71 441.017 102.924 441.017H99.8274V454H98.0661ZM104.913 447.466L108.492 454H106.447L102.924 447.466H104.913ZM123.132 446.727C123.132 448.261 122.855 449.587 122.301 450.705C121.747 451.822 120.987 452.684 120.021 453.29C119.055 453.896 117.952 454.199 116.711 454.199C115.471 454.199 114.368 453.896 113.402 453.29C112.436 452.684 111.676 451.822 111.122 450.705C110.568 449.587 110.291 448.261 110.291 446.727C110.291 445.193 110.568 443.867 111.122 442.75C111.676 441.633 112.436 440.771 113.402 440.165C114.368 439.559 115.471 439.256 116.711 439.256C117.952 439.256 119.055 439.559 120.021 440.165C120.987 440.771 121.747 441.633 122.301 442.75C122.855 443.867 123.132 445.193 123.132 446.727ZM121.427 446.727C121.427 445.468 121.217 444.405 120.795 443.538C120.378 442.672 119.813 442.016 119.098 441.571C118.387 441.126 117.592 440.903 116.711 440.903C115.831 440.903 115.033 441.126 114.318 441.571C113.608 442.016 113.042 442.672 112.62 443.538C112.204 444.405 111.995 445.468 111.995 446.727C111.995 447.987 112.204 449.05 112.62 449.916C113.042 450.783 113.608 451.438 114.318 451.884C115.033 452.329 115.831 452.551 116.711 452.551C117.592 452.551 118.387 452.329 119.098 451.884C119.813 451.438 120.378 450.783 120.795 449.916C121.217 449.05 121.427 447.987 121.427 446.727ZM126.093 454V439.455H127.855V452.438H134.616V454H126.093ZM137.343 454V439.455H139.105V452.438H145.866V454H137.343Z" fill="#8FBF21"/>
        </svg>
    </div>
</template>

<script>
import { gsap } from 'gsap';
import { ScrollTrigger } from "gsap/ScrollTrigger";

export default {
    name: "Leaf",
    mounted() {
        this.lineAnimation();
        this.circleAnimation();
        this.textAnimation();
    },
    methods: {
        lineAnimation: function() {
            let length = document.querySelector(".leafSvgLine").getTotalLength();
            gsap.fromTo(".leafSvgLine", 
                {strokeDashoffset: length, strokeDasharray: length},
                {strokeDashoffset: 0, duration: 1.2, delay: 0.8, ease: "power2.in"})
        },
        circleAnimation: function() {
            gsap.fromTo(".leafSvgCircle", 
                {scale: 0},
                {scale: 1, duration: 1.2, delay: 2, ease: "elastic"})
        },
        textAnimation: function() {
            gsap.fromTo(".leafSvgText", 
                {opacity: 0, yPercent: 20},
                {opacity:1, yPercent: 0, duration: 0.3, delay: 2.1, ease: "power2.in"})
        }
    },
}

</script>

<style scoped lang="scss">

    .leaf {
        display: flex;
        z-index: 10;
        &Svg {
            overflow: visible;
        }
        &SvgLine {
            stroke: #f7f6f8;
            stroke-width: 3px;
        }
        &SvgCircle {
            transform-origin: 25% 0%;
        }
    }

</style>